---
description: Git Workflow and Commit Messages
globs:
alwaysApply: true
---

# Commit Message Format

## Subject Line

- Use **imperative mood** ("Add feature" not "Added" or "Adds")
- **Capitalize** the first word
- **No period** at the end
- Keep under 50 characters ideally

**Good:** `Add product sharing API endpoint`
**Bad:** `Added endpoint` (not imperative), `add endpoint` (not capitalized), `Add endpoint.` (has period)

## Body (blank line after subject)

Explain **WHY**, not HOW. Scale detail to change complexity:

- **Small complexity**: 1-2 sentences
- **Medium complexity**: 1-2 paragraphs
- **Large complexity**: Full explanation with context and overview
- **Wrap lines at 72 characters** for readability in terminals and git tools

### Small Change Example

```md
Remove unused caching middleware

The framework's default router already includes response caching, making the custom middleware redundant.
```

### Large Change Example

```md
Add product sharing with organization permissions

Products need to be shared between organizations with different access levels
(read-only vs full edit). The previous system only supported all-or-nothing
sharing which caused permission escalation issues in multi-tenant scenarios.

Introduces a share permissions table with granular access control, adds
validation logic for managing shares, and implements API endpoints for CRUD
operations. Includes integration tests covering permission edge cases and
concurrent access scenarios.
```

# Fixing Pre-Merge Mistakes

Create fixup commits instead of new fix commits for changes not yet merged to main. User will rebase later.
